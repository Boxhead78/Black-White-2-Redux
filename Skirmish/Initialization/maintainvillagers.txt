///////////////////////////////////////////////////////////////////////////////
//       Town-Villagers-Maintainer
//    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
///////////////////////////////////////////////////////////////////////////////

define script MaintainVillagers(PlayerID)


begin script MaintainVillagers(PlayerID)

    Counter = 0
    myTown[20]
    myPlatoon = 0
    RandomAbode = 0
    Villager = 0

start

begin loop
    if Counter >= 20
        Counter = 0
    end if
    myTown[Counter] = get town with id Counter
    if size of myTown[Counter] > 975 and PLAYER of myTown[Counter] == PlayerID
        set town myTown[Counter] maximum population to 725
        RandomAbode = get random abode in town myTown[Counter]
        Villager = get disciple VILLAGER_DISCIPLE_NONE at {RandomAbode} radius 250.0
        myPlatoon = get platoon of player 0 nearest {Villager} radius 25
        if AGE of Villager > 18 and not {Villager} viewed and not myPlatoon exists
            delete Villager
        end if
    elsif size of myTown[Counter] > 850 and PLAYER of myTown[Counter] == PlayerID
        set town myTown[Counter] maximum population to 725
        RandomAbode = get random abode in town myTown[Counter]
        Villager = get disciple VILLAGER_DISCIPLE_NONE at {RandomAbode} radius 250.0
        myPlatoon = get platoon of player 0 nearest {Villager} radius 25
        if AGE of Villager > 18 and not {Villager} viewed and not myPlatoon exists
            delete Villager
            wait 0.5 seconds
        end if
    elsif size of myTown[Counter] > 775 and PLAYER of myTown[Counter] == PlayerID
        set town myTown[Counter] maximum population to 725
        RandomAbode = get random abode in town myTown[Counter]
        Villager = get disciple VILLAGER_DISCIPLE_NONE at {RandomAbode} radius 250.0
        myPlatoon = get platoon of player 0 nearest {Villager} radius 25
        if AGE of Villager > 18 and not {Villager} viewed and not myPlatoon exists
            delete Villager
            wait 1.5 seconds
        end if
    elsif size of myTown[Counter] > 725 and PLAYER of myTown[Counter] == PlayerID
        set town myTown[Counter] maximum population to 725
        RandomAbode = get random abode in town myTown[Counter]
        Villager = get disciple VILLAGER_DISCIPLE_NONE at {RandomAbode} radius 250.0
        myPlatoon = get platoon of player 0 nearest {Villager} radius 25
        if AGE of Villager > 18 and not {Villager} viewed and not myPlatoon exists
            delete Villager
            wait 3 seconds
        end if
    end if
    Counter++
end loop

end script MaintainVillagers